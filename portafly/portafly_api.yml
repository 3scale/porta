---
openapi: 3.0.2
info:
  title: PortaFly
  version: 1.0.0
  description: |
    A tuned API for PortaFly, a Patternfly SPA consuming 3scale Porta API MGMT solution.
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
paths:
  /developer/accounts:
    summary: A list of developer accounts
    description: A list of developer accounts.
    get:
      responses:
        "200":
          $ref: '#/components/responses/developerAccountList'
      operationId: developerAccountList
      summary: Get developer account list
    parameters:
    - name: page
      description: Page in the paginated list. Defaults to 1.
      schema:
        type: integer
      in: query
      required: false
    - name: per_page
      description: Number of results per page. Default and max is 500.
      schema:
        type: integer
      in: query
      required: false
    - name: state
      description: Account state.
      schema:
        type: string
      in: query
  /developer/accounts/{id}/approve:
    summary: Approves an account.
    description: Changes an account's state from pending to live. The account needs to be approved explicitly via this API after creation.
    put:
      responses:
        "204":
          description: No Content
        "422":
          description: Unprocessable Entity
      operationId: approveAccount
    parameters:
      - name: access_token
        description: An access token
        schema:
          type: string
        in: query
      - name: id
        description: The ID of the account to be approved
        schema:
          type: string
        in: query
components:
  schemas:
    DeveloperAccount:
      title: Root Type for developerAccountData
      description: A simplified format for a developer account data.
      type: object
      properties:
        id:
          description: The account ID number
          type: integer
        created_at:
          format: date-time
          description: When it was created
          type: string
        updated_at:
          format: date-time
          description: When it was last updated
          type: string
        state:
          description: The current state of the account
          type: string
        org_name:
          description: The organization name
          type: string
        admin_name:
          description: The name of the admin user
          type: string
        apps_count:
          description: The total amount of applications
          type: integer
      example:
        id: 1
        created_at: 2019-10-18T05:13:26Z
        updated_at: 2019-10-18T05:13:27Z
        state: approved
        org_name: Umbrella Corp.
        admin_name: Oswell E. Spencer
        apps_count: 3
  responses:
    developerAccountList:
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DeveloperAccount'
          examples:
            developerAccountListExample:
              value:
              - id: 22
                created_at: 2018-02-10T09:30Z
                updated_at: 2018-02-10T09:30Z
                state: approved
                org_name: Capsule Corp
                admin_name: Dr. Brief
                apps_count: 4
              - id: 72
                created_at: 2018-02-10T09:30Z
                updated_at: 2018-02-10T09:30Z
                state: approved
                org_name: FOXHOUND
                admin_name: Big Boss
                apps_count: 5
              - id: 40
                created_at: 2018-02-11T09:30Z
                updated_at: 2018-02-11T09:30Z
                state: pending
                org_name: B.P.R.D
                admin_name: Dr. Thomas Manning
                apps_count: 10
              - id: 41
                created_at: 2018-02-12T09:30Z
                updated_at: 2018-02-12T09:30Z
                state: approved
                org_name: MomCorp
                admin_name: Mom
                apps_count: 2
              - id: 42
                created_at: 2018-02-12T09:30Z
                updated_at: 2018-02-12T09:30Z
                state: approved
                org_name: Sirius Cybernetics
                admin_name: Admin
                apps_count: 3
              - id: 43
                created_at: 2018-03-10T09:30Z
                updated_at: 2018-03-10T09:30Z
                state: approved
                org_name: Los Pollos Hermanos
                admin_name: Gustavo Fring
                apps_count: 4
      description: Developer accountlist
