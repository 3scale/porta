(function($) {
  $("[id=referrer_filter_<%= @referrer_filter.id -%>]").fadeOut(function() {
    $(this).remove();

    var container = $("#referrer_filters");
    var table = container.find("table");

    // Fix row highlighting.
    table.find("tr").each(function(index) {
      $(this).removeClass("even odd");
      $(this).addClass((index + 1) % 2 ? "odd" : "even");
    });

    <%# Show form if hidden because of reached limit. %>
    <% if @cinstance.referrer_filters.size < ReferrerFilter::REFERRER_FILTERS_LIMIT %>
      $(".enabled_block").fadeIn()
      $(".disabled_block").fadeOut()
    <% end %>
  });
})(jQuery);
