<%# If EventTarget is replaceWith'ed immediately, ajax:success and ajax:complete are not called and the spinner will stay %>
setTimeout(() => {
  const oldRow = document.getElementById('<%= dom_id(@feature) %>');
  oldRow.insertAdjacentHTML('afterend', '<%= escape_javascript(render('api/features/feature', feature: @feature)) %>');
  oldRow.remove();
});

<%= render 'shared/flash_message' %>
